<div class="loader" *ngIf="isLoading == true">
  <div class="circle"></div>
</div>
<div
  class="container detailed-wids"
  [ngClass]="{
    'small-text': textSize === 'small',
    'medium-text': textSize === 'medium',
    'large-text': textSize === 'large'
  }"
>
  <div class="left-section">
    <div class="DYWI3">
      <div
        class="phCpR"
        [ngClass]="{
          'dark-mode-navigation': isDarkModeInLocalStorage(),
          'light-mode-navigation': !isDarkModeInLocalStorage()
        }"
      >
        <a href="/home"
          ><span
            [ngClass]="{
              'dark-mode-navigation': isDarkModeInLocalStorage(),
              'light-mode-navigation': !isDarkModeInLocalStorage()
            }"
            >Home&nbsp;</span
          ><svg
            version="1.0"
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 780 400"
            preserveAspectRatio="xMidYMid meet"
          >
            <metadata>
              Created by potrace 1.16, written by Peter Selinger 2001-2019
            </metadata>
            <g
              transform="translate(0.000000,768.000000) scale(0.100000,-0.100000)"
              fill="#000000"
              stroke="none"
            >
              <path
                d="M2075 5964 c-37 -19 -261 -239 -281 -276 -18 -35 -18 -101 0 -136 8 -15 395 -407 860 -872 l846 -845 -860 -860 -860 -860 0 -55 c0 -69 5 -77 144 -218 142 -145 187 -170 263 -142 16 6 474 457 1051 1033 1092 1092 1053 1049 1038 1134 -7 34 -109 140 -1029 1062 -598 598 -1035 1029 -1054 1037 -42 18 -81 18 -118 -2z"
              ></path>
            </g></svg></a
        ><a (click)="navigateToCategory(categorySlug)"
          ><span
            [ngClass]="{
              'dark-mode-navigation': isDarkModeInLocalStorage(),
              'light-mode-navigation': !isDarkModeInLocalStorage()
            }"
          >
            {{ categoryName }}&nbsp;</span
          ><svg
            version="1.0"
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 780 400"
            preserveAspectRatio="xMidYMid meet"
          >
            <metadata>
              Created by potrace 1.16, written by Peter Selinger 2001-2019
            </metadata>
            <g
              transform="translate(0.000000,768.000000) scale(0.100000,-0.100000)"
              fill="#000000"
              stroke="none"
            >
              <path
                d="M2075 5964 c-37 -19 -261 -239 -281 -276 -18 -35 -18 -101 0 -136 8 -15 395 -407 860 -872 l846 -845 -860 -860 -860 -860 0 -55 c0 -69 5 -77 144 -218 142 -145 187 -170 263 -142 16 6 474 457 1051 1033 1092 1092 1053 1049 1038 1134 -7 34 -109 140 -1029 1062 -598 598 -1035 1029 -1054 1037 -42 18 -81 18 -118 -2z"
              ></path>
            </g></svg></a
        ><span class="_12j4- _32Ygc"> {{ newsDetails?.title }}</span>
      </div>
    </div>
    <span>
      <h1
        [ngClass]="{
          'dark-mode-yellow': isDarkModeInLocalStorage(),
          'light-mode-purple': !isDarkModeInLocalStorage()
        }"
        class="larger-text"
      >
        {{ newsDetails?.title }}
      </h1>

      <div
        class="content-details"
        [ngClass]="{
          'small-text': textSize === 'small',
          'medium-text': textSize === 'medium',
          'large-text': textSize === 'large'
        }"
      >
        <!-- <span
          [ngClass]="{
            'small-text': textSize === 'small',
            'medium-text': textSize === 'medium',
            'large-text': textSize === 'large'
          }"
        >
          {{ newsDetails?.short_description }}
        </span> -->

        <strong>
          <div
            class="author-name"
            [ngClass]="{
              'dark-mode-navigation': isDarkModeInLocalStorage(),
              'light-mode-navigation': !isDarkModeInLocalStorage()
            }"
          >
            {{ newsDetails?.author }}
          </div>
        </strong>

        <span
          class="published-date"
          style="display: block"
          [ngClass]="{
            'dark-mode-navigation': isDarkModeInLocalStorage(),
            'light-mode-navigation': !isDarkModeInLocalStorage()
          }"
        >
          Published : {{ newsDetails?.publish | date }}
        </span>
      </div>
      <div class="category-image">
        <img
          [src]="getFullImagePath(newsDetails.image)"
          alt="{{ newsDetails?.image_alt }}"
        />
        <div class="shar-section">
          <div class="Share icon">
            <div class="shareLeft d-flex">
              <button class="Menus" mat-button [matMenuTriggerFor]="menu">
                @if ( isDarkModeInLocalStorage() ) {
                <img
                  src="../../../../../assets/icons/share_icon_white.png"
                  alt=""
                />
                } @if (!isDarkModeInLocalStorage()) {
                <img src="../../../../../assets/icons/share_icon.png" alt="" />
                }
              </button>
              <span
                [ngClass]="{
                  'dark-mode-navigation': isDarkModeInLocalStorage(),
                  'light-mode-navigation': !isDarkModeInLocalStorage()
                }"
                >Share</span
              >
              <mat-menu #menu="matMenu">
                <button mat-menu-item>
                  <img src="../../../../../assets/icons/whats app.png" alt="" />
                  <span class="iconNaming"
                    ><span class="whatsapp-text">WhatsApp</span></span
                  >
                </button>
                <button mat-menu-item>
                  <img src="../../../../../assets/icons/facebook.png" alt="" />
                  <span class="iconNaming"
                    ><span class="whatsapp-text">Facebook</span></span
                  >
                </button>
                <button mat-menu-item>
                  <img src="../../../../../assets/icons/twitter_X.png" alt="" />
                  <span class="iconNaming"
                    ><span class="whatsapp-text">x</span></span
                  >
                </button>
                <button mat-menu-item>
                  <img src="../../../../../assets/icons/telegrame.png" alt="" />
                  <span class="iconNaming"
                    ><span class="whatsapp-text">Telegrame</span></span
                  >
                </button>
                <span (click)="urlAndCopylink()">
                  <button mat-menu-item>
                    <img
                      src="../../../../../assets/icons/copy_link.png"
                      alt=""
                    />
                    <span class="iconNaming"
                      ><span class="whatsapp-text">Copy link</span></span
                    >
                  </button>
                </span>
              </mat-menu>
            </div>
            <div class="share_rightt">
              <div class="TextSizing">
                <button mat-button [matMenuTriggerFor]="menuText">
                  <span
                    class="caps"
                    [ngClass]="{
                      'dark-mode-white': isDarkModeInLocalStorage()
                    }"
                    >{{ "A" | translate }}</span
                  >
                  <span
                    class="smallL"
                    [ngClass]="{
                      'dark-mode-white': isDarkModeInLocalStorage()
                    }"
                  >
                    {{ "a" | translate }}</span
                  >
                </button>
                <mat-menu #menuText="matMenu">
                  <button mat-menu-item (click)="setTextSize('small')">
                    {{ "Small" | translate }}
                  </button>
                  <button mat-menu-item (click)="setTextSize('medium')">
                    {{ "Medium" | translate }}
                  </button>
                  <button mat-menu-item (click)="setTextSize('large')">
                    {{ "Large" | translate }}
                  </button>
                </mat-menu>
              </div>
              <div class="audio" *ngIf="newsDetails.audio">
                <img
                  (click)="playOrPauseAudio(newsDetails?.audio)"
                  src="../../../../../assets/icons/audio.png"
                  alt=""
                />
              </div>

              <div class="bookmark" (click)="bookmark()">
                <img src="../../../../../assets/icons/bookmark.png" alt="" />
              </div>
              <div class="commets" (click)="isCommnet()">
                <img src="../../../../../assets/icons/commentsTwo.png" alt="" />
              </div>
            </div>
          </div>
          <hr />
        </div>
      </div>
      <div class="articalread">
        <div
          class="content-container"
          [ngClass]="{
            'small-text': textSize === 'small',
            'medium-text': textSize === 'medium',
            'large-text': textSize === 'large'
          }"
        >
          <div
            [innerHTML]="
              newsDetails.expanded
                ? newsDetails.content
                : truncateHtmlContent(newsDetails.content)
            "
          ></div>
        </div>
        <div style="text-align: center">
          <button
            class="read-full-article"
            (click)="toggleExpanded(newsDetails)"
            [ngClass]="{
              'small-text': textSize === 'small',
              'medium-text': textSize === 'medium',
              'large-text': textSize === 'large'
            }"
          >
            {{
              newsDetails?.expanded
                ? ("Show Less" | translate)
                : ("Read Full Article" | translate)
            }}
          </button>
        </div>
      </div>

      <div class="ReadMore-section">
        <div class="read-more">
          <h1
            [ngClass]="{
              'dark-mode-yellow': isDarkModeInLocalStorage(),
              'light-mode-purple': !isDarkModeInLocalStorage()
            }"
          >
            {{ "Read More" | translate }}
          </h1>
          <hr />
          <div class="read-more-items">
            <div
              class="item more-news"
              *ngFor="let item of trendingNews; let i = index"
            >
              <img
                (click)="
                  getHomeContentBySlugRouter(item?.slug, item?.category?.slug)
                "
                [src]="getFullImagePath(readMoreImages[i])"
                alt="Image {{ i + 1 }}"
              />
              <!-- <p
                (click)="
                  getHomeContentBySlugRouter(item?.slug, item?.category?.slug)
                "
              >
                {{ item.title }}
              </p> -->

              <h2
                [ngClass]="{
                  'dark-mode-yellow': isDarkModeInLocalStorage(),
                  'light-mode-purple': !isDarkModeInLocalStorage()
                }"
                (click)="
                  getHomeContentBySlugRouter(item?.slug, item?.category?.slug)
                "
              >
                {{ item.title }}
              </h2>
            </div>
          </div>

          <div class="shar-section">
            <hr />
          </div>
        </div>
      </div>
      <!-- comments sections  -->
      <div
        class="comments-section"
        *ngIf="isCommnetEnable === true"
        #commentsSection
      >
        <div class="header">
          <h2>Sign in</h2>
          <div class="sort-share">
            <div class="sort">
              <select>
                <option value="newest">Newest</option>
                <option value="newest">Oldest</option>
              </select>
            </div>
            <div class="share">
              <span>
                @if ( isDarkModeInLocalStorage() ) {
                <img
                  src="../../../../../assets/icons/share_icon_white.png"
                  alt=""
                />
                } @if (!isDarkModeInLocalStorage()) {
                <img src="../../../../../assets/icons/share_icon.png" alt="" />
                }
              </span>
              <span>Share</span>
            </div>
          </div>
        </div>
        <div class="comment-input">
          <div class="user-avatar">
            <img src="user-avatar.png" alt="User Avatar" />
          </div>
          <div class="input-box">
            <input type="text" placeholder="Share your thoughts..." />
            <div class="icons">
              <span class="attachment">ðŸ“·</span>
            </div>
          </div>
          <button class="post-btn">POST</button>
        </div>
        <div class="disclaimer">
          This site is protected by reCAPTCHA and the Google Privacy Policy and
          Terms of Service apply.
        </div>
      </div>
    </span>

    <span class="trendingNews" *ngFor="let news of trendingNews">
      <!--  -->

      <h1
        [ngClass]="{
          'dark-mode-yellow': isDarkModeInLocalStorage(),
          'light-mode-purple': !isDarkModeInLocalStorage()
        }"
      >
        {{ news?.title }}
      </h1>

      <div class="content-details">
        <p>{{ news.short_description }}</p>

        <strong>
          <span
            [ngClass]="{
              'dark-mode-navigation': isDarkModeInLocalStorage(),
              'light-mode-navigation': !isDarkModeInLocalStorage()
            }"
            class="author-name"
            >{{ news?.author }}</span
          >
        </strong>

        <span
          [ngClass]="{
            'dark-mode-navigation': isDarkModeInLocalStorage(),
            'light-mode-navigation': !isDarkModeInLocalStorage()
          }"
          class="published-date"
          style="display: block"
        >
          Published : {{ news?.publish | date }}
        </span>
      </div>
      <div class="category-image">
        <img [src]="getFullImagePath(news.image)" alt="{{ news?.image_alt }}" />
        <div class="shar-section">
          <div class="Share icon">
            <div class="shareLeft d-flex">
              <button class="Menus" mat-button [matMenuTriggerFor]="menu">
                @if ( isDarkModeInLocalStorage() ) {
                <img
                  src="../../../../../assets/icons/share_icon_white.png"
                  alt=""
                />
                } @if (!isDarkModeInLocalStorage()) {
                <img src="../../../../../assets/icons/share_icon.png" alt="" />
                }
              </button>
              <span
                [ngClass]="{
                  'dark-mode-navigation': isDarkModeInLocalStorage(),
                  'light-mode-navigation': !isDarkModeInLocalStorage()
                }"
              >
                Share</span
              >
              <mat-menu #menu="matMenu">
                <button mat-menu-item>
                  <img src="../../../../../assets/icons/whats app.png" alt="" />
                  <span class="iconNaming"
                    ><span class="whatsapp-text">WhatsApp</span></span
                  >
                </button>
                <button mat-menu-item>
                  <img src="../../../../../assets/icons/facebook.png" alt="" />
                  <span class="iconNaming"
                    ><span class="whatsapp-text">Facebook</span></span
                  >
                </button>
                <button mat-menu-item>
                  <img src="../../../../../assets/icons/twitter_X.png" alt="" />
                  <span class="iconNaming"
                    ><span class="whatsapp-text">x</span></span
                  >
                </button>
                <button mat-menu-item>
                  <img src="../../../../../assets/icons/telegrame.png" alt="" />
                  <span class="iconNaming"
                    ><span class="whatsapp-text">Telegrame</span></span
                  >
                </button>
                <span (click)="urlAndCopylink()">
                  <button mat-menu-item>
                    <img
                      src="../../../../../assets/icons/copy_link.png"
                      alt=""
                    />
                    <span class="iconNaming"
                      ><span class="whatsapp-text">Copy link</span></span
                    >
                  </button>
                </span>
              </mat-menu>
            </div>
            <div class="share_rightt">
              <div class="TextSizing">
                <button mat-button [matMenuTriggerFor]="menuText">
                  <span class="caps">A</span><span class="smallL">a</span>
                </button>
                <mat-menu #menuText="matMenu">
                  <button mat-menu-item (click)="setTextSize('small')">
                    Small
                  </button>
                  <button mat-menu-item (click)="setTextSize('medium')">
                    Medium
                  </button>
                  <button mat-menu-item (click)="setTextSize('large')">
                    Large
                  </button>
                </mat-menu>
              </div>
              <div class="audio" *ngIf="newsDetails.audio">
                <img
                  (click)="playOrPauseAudio(newsDetails?.audio)"
                  src="../../../../../assets/icons/audio.png"
                  alt=""
                />
              </div>

              <div class="bookmark" (click)="bookmark()">
                <img src="../../../../../assets/icons/bookmark.png" alt="" />
              </div>
              <div class="commets" (click)="isCommnet()">
                <img src="../../../../../assets/icons/commentsTwo.png" alt="" />
              </div>
            </div>
          </div>
          <hr />
        </div>
      </div>
      <div class="articalread">
        <div
          [ngClass]="{
            'small-text': textSize === 'small',
            'medium-text': textSize === 'medium',
            'large-text': textSize === 'large'
          }"
          [innerHTML]="
            news?.expanded ? news.content : truncateHtmlContent(news?.content)
          "
          class="content-container"
        ></div>
        <div style="text-align: center">
          <button class="read-full-article" (click)="toggleExpanded(news)">
            {{
              news?.expanded
                ? ("Show Less" | translate)
                : ("Read Full Article" | translate)
            }}
          </button>
        </div>
      </div>

      <div
        class="ReadMore-section"
        *ngIf="trendingNews && trendingNews.length > 0"
      >
        <div class="read-more">
          <h1
            [ngClass]="{
              'dark-mode-yellow': isDarkModeInLocalStorage(),
              'light-mode-purple': !isDarkModeInLocalStorage()
            }"
          >
            {{ "Read More" | translate }}
          </h1>
          <hr />
          <div class="read-more-items">
            <div
              class="item more-news"
              *ngFor="let item of trendingNews; let i = index"
            >
              <img
                (click)="getHomeContentBySlug(item.slug)"
                [src]="getFullImagePath(item?.image)"
              />
              <!-- <p (click)="getHomeContentBySlug(item.slug)">{{ item?.title }}</p> -->
              <h2
                [ngClass]="{
                  'dark-mode-yellow': isDarkModeInLocalStorage(),
                  'light-mode-purple': !isDarkModeInLocalStorage()
                }"
                (click)="getHomeContentBySlug(item?.slug)"
              >
                {{ item.title }}
              </h2>
            </div>
          </div>
          <div class="shar-section">
            <hr />
          </div>
        </div>
      </div>

      <!--  -->
    </span>
  </div>

  <div
    class="right-section"
    [ngClass]="{ 'dark-mode': themeServiceInstance.isDarkMode() }"
  >
    <!-- <div
      class="stay-updated"
      [ngClass]="{ 'dark-mode': themeServiceInstance.isDarkMode() }"
    >
      <h2>{{ "Stay Updated" | translate }}</h2>
      <app-subscribe></app-subscribe>
    </div> -->
    <div class="line" style="display: none"></div>

    <div
      class="more-news"
      [ngClass]="{ 'dark-mode': themeServiceInstance.isDarkMode() }"
    >
      <h2
        [ngClass]="{
          'dark-mode-yellow': isDarkModeInLocalStorage(),
          'light-mode-purple': !isDarkModeInLocalStorage()
        }"
      >
        {{ "More News" | translate }}
      </h2>
      <hr />
      <div
        class="news-item"
        *ngFor="let item of readMoreItemsDetail; let i = index"
      >
        <img
          [src]="getFullImagePath(readMoreImagesDetail[i])"
          [alt]="'News Item ' + (i + 1)"
        />
        <h2
          [ngClass]="{
            'dark-mode-yellow': isDarkModeInLocalStorage(),
            'light-mode-purple': !isDarkModeInLocalStorage()
          }"
          (click)="getHomeContentBySlugRouter(item?.slug, item?.category?.slug)"
        >
          {{ item?.title }}
        </h2>
      </div>
      <hr />
    </div>
  </div>
  <div class="section-most-viewed">
    <app-most-viewed [content_type]="conent_type"></app-most-viewed>
  </div>
</div>
<!-- <div class="container-most-viewed">
</div> -->
